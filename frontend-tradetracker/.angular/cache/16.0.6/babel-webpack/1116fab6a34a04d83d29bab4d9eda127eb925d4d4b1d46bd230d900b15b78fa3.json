{"ast":null,"code":"import { switchMap, tap, of } from 'rxjs';\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/account.service\";\nimport * as i3 from \"../../services/transaction.service\";\nimport * as i4 from \"../../services/analytics.service\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/common\";\nfunction AccountDetailComponent_div_0_div_93_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31)(1, \"div\", 32);\n    i0.ɵɵtext(2, \"\\u26A0\\uFE0F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 33)(4, \"strong\");\n    i0.ɵɵtext(5, \"Retrait sugg\\u00E9r\\u00E9:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"currency\");\n    i0.ɵɵpipe(9, \"async\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const account_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\"Votre compte a d\\u00E9pass\\u00E9 le seuil de retrait. Nous sugg\\u00E9rons un retrait de \", i0.ɵɵpipeBind2(8, 1, i0.ɵɵpipeBind1(9, 4, ctx_r2.withdrawalSuggestion$), account_r1.currency), \".\");\n  }\n}\nfunction AccountDetailComponent_div_0_div_100_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34);\n    i0.ɵɵtext(1, \" Le seuil doit \\u00EAtre un nombre positif. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccountDetailComponent_div_0_div_109_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34);\n    i0.ɵɵtext(1, \" Le montant doit \\u00EAtre sup\\u00E9rieur \\u00E0 0. \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"invalid\": a0\n  };\n};\nfunction AccountDetailComponent_div_0_div_109_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 35)(1, \"form\", 36);\n    i0.ɵɵlistener(\"ngSubmit\", function AccountDetailComponent_div_0_div_109_Template_form_ngSubmit_1_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.addTransaction());\n    });\n    i0.ɵɵelementStart(2, \"div\", 19)(3, \"label\", 37);\n    i0.ɵɵtext(4, \"Type de transaction:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"select\", 38)(6, \"option\", 39);\n    i0.ɵɵtext(7, \"D\\u00E9p\\u00F4t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"option\", 40);\n    i0.ɵɵtext(9, \"Retrait\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"div\", 19)(11, \"label\", 41);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"input\", 42);\n    i0.ɵɵtemplate(14, AccountDetailComponent_div_0_div_109_div_14_Template, 2, 0, \"div\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 19)(16, \"label\", 43);\n    i0.ɵɵtext(17, \"Description (optionnel):\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"textarea\", 44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 45)(20, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function AccountDetailComponent_div_0_div_109_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.toggleTransactionForm());\n    });\n    i0.ɵɵtext(21, \"Annuler\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"button\", 23);\n    i0.ɵɵtext(23, \"Enregistrer\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const account_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r4 = i0.ɵɵnextContext();\n    let tmp_2_0;\n    let tmp_3_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r4.transactionForm);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate1(\"Montant (\", account_r1.currency, \"):\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c0, ((tmp_2_0 = ctx_r4.transactionForm.get(\"amount\")) == null ? null : tmp_2_0.invalid) && ((tmp_2_0 = ctx_r4.transactionForm.get(\"amount\")) == null ? null : tmp_2_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx_r4.transactionForm.get(\"amount\")) == null ? null : tmp_3_0.invalid) && ((tmp_3_0 = ctx_r4.transactionForm.get(\"amount\")) == null ? null : tmp_3_0.touched));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"disabled\", ctx_r4.transactionForm.invalid);\n  }\n}\nfunction AccountDetailComponent_div_0_div_111_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47);\n    i0.ɵɵtext(1, \" Aucune transaction pour ce compte. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccountDetailComponent_div_0_div_113_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const transaction_r13 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", transaction_r13.description, \" \");\n  }\n}\nconst _c1 = function (a0, a1) {\n  return {\n    \"deposit-icon\": a0,\n    \"withdrawal-icon\": a1\n  };\n};\nconst _c2 = function (a0, a1) {\n  return {\n    \"positive\": a0,\n    \"negative\": a1\n  };\n};\nfunction AccountDetailComponent_div_0_div_113_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48)(1, \"div\", 49)(2, \"i\", 50);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 51)(5, \"div\", 52)(6, \"span\", 53);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 54);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 55);\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, AccountDetailComponent_div_0_div_113_div_14_Template, 2, 1, \"div\", 56);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const transaction_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(14, _c1, transaction_r13.type === \"deposit\", transaction_r13.type === \"withdrawal\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(transaction_r13.type === \"deposit\" ? \"\\u2191\" : \"\\u2193\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(transaction_r13.type === \"deposit\" ? \"D\\u00E9p\\u00F4t\" : \"Retrait\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(10, 8, transaction_r13.date, \"dd/MM/yyyy HH:mm\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(17, _c2, transaction_r13.type === \"deposit\", transaction_r13.type === \"withdrawal\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", transaction_r13.type === \"deposit\" ? \"+\" : \"-\", \" \", i0.ɵɵpipeBind2(13, 11, transaction_r13.amount, transaction_r13.currency), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", transaction_r13.description);\n  }\n}\nconst _c3 = function (a0, a1) {\n  return {\n    \"badge-usd\": a0,\n    \"badge-eur\": a1\n  };\n};\nfunction AccountDetailComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 3)(3, \"h2\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 4);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"button\", 5);\n    i0.ɵɵtext(8, \"Retour aux comptes\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 6)(10, \"div\", 7)(11, \"div\", 8);\n    i0.ɵɵtext(12, \"Informations G\\u00E9n\\u00E9rales\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 9)(14, \"div\", 10)(15, \"span\", 11);\n    i0.ɵɵtext(16, \"Broker:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"span\", 12);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 10)(20, \"span\", 11);\n    i0.ɵɵtext(21, \"Solde actuel:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"span\", 12);\n    i0.ɵɵtext(23);\n    i0.ɵɵpipe(24, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\", 10)(26, \"span\", 11);\n    i0.ɵɵtext(27, \"Objectif:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"span\", 12);\n    i0.ɵɵtext(29);\n    i0.ɵɵpipe(30, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"div\", 10)(32, \"span\", 11);\n    i0.ɵɵtext(33, \"D\\u00E9p\\u00F4ts totaux:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"span\", 12);\n    i0.ɵɵtext(35);\n    i0.ɵɵpipe(36, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(37, \"div\", 10)(38, \"span\", 11);\n    i0.ɵɵtext(39, \"Retraits totaux:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"span\", 12);\n    i0.ɵɵtext(41);\n    i0.ɵɵpipe(42, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(43, \"div\", 10)(44, \"span\", 11);\n    i0.ɵɵtext(45, \"Date de cr\\u00E9ation:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"span\", 12);\n    i0.ɵɵtext(47);\n    i0.ɵɵpipe(48, \"date\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(49, \"div\", 7)(50, \"div\", 8);\n    i0.ɵɵtext(51, \"Performance\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(52, \"div\", 9)(53, \"div\", 10)(54, \"span\", 11);\n    i0.ɵɵtext(55, \"Progression vers l'objectif:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(56, \"span\", 12);\n    i0.ɵɵtext(57);\n    i0.ɵɵpipe(58, \"number\");\n    i0.ɵɵpipe(59, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(60, \"div\", 13)(61, \"div\", 14);\n    i0.ɵɵpipe(62, \"number\");\n    i0.ɵɵpipe(63, \"async\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(64, \"div\", 10)(65, \"span\", 11);\n    i0.ɵɵtext(66, \"Profit/Perte:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(67, \"span\", 15);\n    i0.ɵɵpipe(68, \"async\");\n    i0.ɵɵpipe(69, \"async\");\n    i0.ɵɵtext(70);\n    i0.ɵɵpipe(71, \"currency\");\n    i0.ɵɵpipe(72, \"async\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(73, \"div\", 10)(74, \"span\", 11);\n    i0.ɵɵtext(75, \"ROI:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(76, \"span\", 15);\n    i0.ɵɵpipe(77, \"async\");\n    i0.ɵɵpipe(78, \"async\");\n    i0.ɵɵtext(79);\n    i0.ɵɵpipe(80, \"number\");\n    i0.ɵɵpipe(81, \"async\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(82, \"div\", 16)(83, \"div\", 7)(84, \"div\", 8);\n    i0.ɵɵtext(85, \"Gestion du Seuil de Retrait\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(86, \"div\", 9)(87, \"div\", 10)(88, \"span\", 11);\n    i0.ɵɵtext(89, \"Seuil actuel:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(90, \"span\", 12);\n    i0.ɵɵtext(91);\n    i0.ɵɵpipe(92, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(93, AccountDetailComponent_div_0_div_93_Template, 10, 6, \"div\", 17);\n    i0.ɵɵpipe(94, \"async\");\n    i0.ɵɵelementStart(95, \"form\", 18);\n    i0.ɵɵlistener(\"ngSubmit\", function AccountDetailComponent_div_0_Template_form_ngSubmit_95_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.updateThreshold());\n    });\n    i0.ɵɵelementStart(96, \"div\", 19)(97, \"label\", 20);\n    i0.ɵɵtext(98, \"Nouveau seuil de retrait:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(99, \"input\", 21);\n    i0.ɵɵtemplate(100, AccountDetailComponent_div_0_div_100_Template, 2, 0, \"div\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(101, \"button\", 23);\n    i0.ɵɵtext(102, \"Mettre \\u00E0 jour\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(103, \"div\", 24)(104, \"div\", 25)(105, \"h3\");\n    i0.ɵɵtext(106, \"Historique des Transactions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(107, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function AccountDetailComponent_div_0_Template_button_click_107_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.toggleTransactionForm());\n    });\n    i0.ɵɵtext(108);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(109, AccountDetailComponent_div_0_div_109_Template, 24, 7, \"div\", 27);\n    i0.ɵɵelementStart(110, \"div\", 28);\n    i0.ɵɵtemplate(111, AccountDetailComponent_div_0_div_111_Template, 2, 0, \"div\", 29);\n    i0.ɵɵpipe(112, \"async\");\n    i0.ɵɵtemplate(113, AccountDetailComponent_div_0_div_113_Template, 15, 20, \"div\", 30);\n    i0.ɵɵpipe(114, \"async\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const account_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    let tmp_10_0;\n    let tmp_11_0;\n    let tmp_13_0;\n    let tmp_16_0;\n    let tmp_18_0;\n    let tmp_19_0;\n    let tmp_23_0;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(account_r1.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(78, _c3, account_r1.currency === \"USD\", account_r1.currency === \"EUR\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", account_r1.currency, \" \");\n    i0.ɵɵadvance(12);\n    i0.ɵɵtextInterpolate(account_r1.broker);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(24, 26, account_r1.currentBalance, account_r1.currency));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(30, 29, account_r1.targetBalance, account_r1.currency));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(36, 32, account_r1.totalDeposits, account_r1.currency));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(42, 35, account_r1.totalWithdrawals, account_r1.currency));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(48, 38, account_r1.createdAt, \"dd/MM/yyyy\"));\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(58, 41, i0.ɵɵpipeBind1(59, 44, ctx_r0.performance$), \"1.1-1\"), \"%\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵstyleProp(\"width\", i0.ɵɵpipeBind2(62, 46, (tmp_10_0 = i0.ɵɵpipeBind1(63, 49, ctx_r0.performance$)) !== null && tmp_10_0 !== undefined ? tmp_10_0 : 0, \"1.0-0\"), \"%\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(81, _c2, (tmp_11_0 = i0.ɵɵpipeBind1(68, 51, ctx_r0.profitLoss$)) !== null && tmp_11_0 !== undefined ? tmp_11_0 : 0 > 0, (tmp_11_0 = i0.ɵɵpipeBind1(69, 53, ctx_r0.profitLoss$)) !== null && tmp_11_0 !== undefined ? tmp_11_0 : 0 < 0));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(71, 55, i0.ɵɵpipeBind1(72, 58, ctx_r0.profitLoss$), account_r1.currency), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(84, _c2, (tmp_13_0 = i0.ɵɵpipeBind1(77, 60, ctx_r0.roi$)) !== null && tmp_13_0 !== undefined ? tmp_13_0 : 0 > 0, (tmp_13_0 = i0.ɵɵpipeBind1(78, 62, ctx_r0.roi$)) !== null && tmp_13_0 !== undefined ? tmp_13_0 : 0 < 0));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(80, 64, i0.ɵɵpipeBind1(81, 67, ctx_r0.roi$), \"1.1-1\"), \"% \");\n    i0.ɵɵadvance(12);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(92, 69, account_r1.withdrawalThreshold, account_r1.currency));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (tmp_16_0 = i0.ɵɵpipeBind1(94, 72, ctx_r0.withdrawalSuggestion$)) !== null && tmp_16_0 !== undefined ? tmp_16_0 : 0 > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.thresholdForm);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(87, _c0, ((tmp_18_0 = ctx_r0.thresholdForm.get(\"withdrawalThreshold\")) == null ? null : tmp_18_0.invalid) && ((tmp_18_0 = ctx_r0.thresholdForm.get(\"withdrawalThreshold\")) == null ? null : tmp_18_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_19_0 = ctx_r0.thresholdForm.get(\"withdrawalThreshold\")) == null ? null : tmp_19_0.invalid) && ((tmp_19_0 = ctx_r0.thresholdForm.get(\"withdrawalThreshold\")) == null ? null : tmp_19_0.touched));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.thresholdForm.invalid);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.showTransactionForm ? \"Annuler\" : \"Ajouter une Transaction\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showTransactionForm);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_23_0 = i0.ɵɵpipeBind1(112, 74, ctx_r0.transactions$)) == null ? null : tmp_23_0.length) === 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(114, 76, ctx_r0.transactions$));\n  }\n}\nclass AccountDetailComponent {\n  constructor(route, router, accountService, transactionService, analyticsService, fb) {\n    this.route = route;\n    this.router = router;\n    this.accountService = accountService;\n    this.transactionService = transactionService;\n    this.analyticsService = analyticsService;\n    this.fb = fb;\n    this.showTransactionForm = false;\n  }\n  ngOnInit() {\n    const accountId = this.route.snapshot.paramMap.get('id');\n    if (!accountId) {\n      this.router.navigate(['/accounts']);\n      return;\n    }\n    this.account$ = this.accountService.getAccountById(accountId).pipe(tap(account => {\n      if (!account) {\n        this.router.navigate(['/accounts']);\n        return;\n      }\n      // Initialize the threshold form with current threshold value\n      this.thresholdForm = this.fb.group({\n        withdrawalThreshold: [account.withdrawalThreshold, [Validators.required, Validators.min(0)]]\n      });\n    }));\n    this.transactions$ = this.transactionService.getTransactionsByAccount(accountId);\n    this.performance$ = this.analyticsService.getAccountPerformance(accountId);\n    this.profitLoss$ = this.analyticsService.getAccountProfitLoss(accountId);\n    this.roi$ = this.analyticsService.getAccountROI(accountId);\n    this.withdrawalSuggestion$ = this.analyticsService.getWithdrawalSuggestions(accountId);\n    // Initialize transaction form\n    this.transactionForm = this.fb.group({\n      type: ['deposit', Validators.required],\n      amount: [0, [Validators.required, Validators.min(0.01)]],\n      description: ['']\n    });\n  }\n  updateThreshold() {\n    if (this.thresholdForm.invalid) return;\n    const accountId = this.route.snapshot.paramMap.get('id');\n    if (!accountId) return;\n    const {\n      withdrawalThreshold\n    } = this.thresholdForm.value;\n    this.accountService.updateAccount(accountId, {\n      withdrawalThreshold\n    }).subscribe();\n  }\n  toggleTransactionForm() {\n    this.showTransactionForm = !this.showTransactionForm;\n    if (this.showTransactionForm) {\n      this.transactionForm.reset({\n        type: 'deposit',\n        amount: 0,\n        description: ''\n      });\n    }\n  }\n  addTransaction() {\n    if (this.transactionForm.invalid) return;\n    const accountId = this.route.snapshot.paramMap.get('id');\n    if (!accountId) return;\n    this.account$.pipe(switchMap(account => {\n      if (!account) return of(null);\n      const {\n        type,\n        amount,\n        description\n      } = this.transactionForm.value;\n      const transaction = {\n        accountId,\n        type,\n        amount,\n        currency: account.currency,\n        date: new Date(),\n        description\n      };\n      return this.transactionService.addTransaction(transaction);\n    })).subscribe(() => {\n      this.toggleTransactionForm();\n      // Update account balance based on transaction\n      this.account$.pipe(switchMap(account => {\n        if (!account) return of(null);\n        const {\n          type,\n          amount\n        } = this.transactionForm.value;\n        let newBalance = account.currentBalance;\n        if (type === 'deposit') {\n          newBalance += amount;\n        } else if (type === 'withdrawal') {\n          newBalance -= amount;\n        }\n        return this.accountService.updateAccount(accountId, {\n          currentBalance: newBalance,\n          ...(type === 'deposit' ? {\n            totalDeposits: account.totalDeposits + amount\n          } : {}),\n          ...(type === 'withdrawal' ? {\n            totalWithdrawals: account.totalWithdrawals + amount\n          } : {})\n        });\n      })).subscribe();\n    });\n  }\n  static {\n    this.ɵfac = function AccountDetailComponent_Factory(t) {\n      return new (t || AccountDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AccountService), i0.ɵɵdirectiveInject(i3.TransactionService), i0.ɵɵdirectiveInject(i4.AnalyticsService), i0.ɵɵdirectiveInject(i5.FormBuilder));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AccountDetailComponent,\n      selectors: [[\"app-account-detail\"]],\n      decls: 2,\n      vars: 3,\n      consts: [[\"class\", \"account-detail-container\", 4, \"ngIf\"], [1, \"account-detail-container\"], [1, \"header\"], [1, \"title-section\"], [1, \"badge\", 3, \"ngClass\"], [\"routerLink\", \"/accounts\", 1, \"btn\", \"btn-secondary\"], [1, \"account-overview\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"info-row\"], [1, \"label\"], [1, \"value\"], [1, \"progress\"], [1, \"progress-bar\"], [1, \"value\", 3, \"ngClass\"], [1, \"withdrawal-section\"], [\"class\", \"suggestion-alert\", 4, \"ngIf\"], [1, \"threshold-form\", 3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"withdrawalThreshold\"], [\"type\", \"number\", \"id\", \"withdrawalThreshold\", \"formControlName\", \"withdrawalThreshold\", 1, \"form-control\", 3, \"ngClass\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"transactions-section\"], [1, \"section-header\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [\"class\", \"transaction-form-container\", 4, \"ngIf\"], [1, \"transactions-list\"], [\"class\", \"no-transactions\", 4, \"ngIf\"], [\"class\", \"transaction-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"suggestion-alert\"], [1, \"alert-icon\"], [1, \"alert-content\"], [1, \"error-message\"], [1, \"transaction-form-container\"], [1, \"transaction-form\", 3, \"formGroup\", \"ngSubmit\"], [\"for\", \"type\"], [\"id\", \"type\", \"formControlName\", \"type\", 1, \"form-control\"], [\"value\", \"deposit\"], [\"value\", \"withdrawal\"], [\"for\", \"amount\"], [\"type\", \"number\", \"id\", \"amount\", \"formControlName\", \"amount\", 1, \"form-control\", 3, \"ngClass\"], [\"for\", \"description\"], [\"id\", \"description\", \"formControlName\", \"description\", 1, \"form-control\"], [1, \"form-actions\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"no-transactions\"], [1, \"transaction-item\"], [1, \"transaction-icon\", 3, \"ngClass\"], [1, \"icon\"], [1, \"transaction-details\"], [1, \"transaction-header\"], [1, \"transaction-type\"], [1, \"transaction-date\"], [1, \"transaction-amount\", 3, \"ngClass\"], [\"class\", \"transaction-description\", 4, \"ngIf\"], [1, \"transaction-description\"]],\n      template: function AccountDetailComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, AccountDetailComponent_div_0_Template, 115, 89, \"div\", 0);\n          i0.ɵɵpipe(1, \"async\");\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.account$));\n        }\n      },\n      dependencies: [i6.NgClass, i6.NgForOf, i6.NgIf, i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.FormControlName, i1.RouterLink, i6.AsyncPipe, i6.DecimalPipe, i6.CurrencyPipe, i6.DatePipe],\n      styles: [\".account-detail-container[_ngcontent-%COMP%] {\\n  padding: 20px;\\n  max-width: 1200px;\\n  margin: 0 auto;\\n}\\n\\n.header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 20px;\\n}\\n\\n.title-section[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n}\\n\\n.title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  margin: 0;\\n}\\n\\n.badge[_ngcontent-%COMP%] {\\n  padding: 4px 8px;\\n  border-radius: 4px;\\n  font-size: 12px;\\n  font-weight: 600;\\n}\\n\\n.badge-usd[_ngcontent-%COMP%] {\\n  background-color: var(--success-color);\\n  color: white;\\n}\\n\\n.badge-eur[_ngcontent-%COMP%] {\\n  background-color: var(--primary-color);\\n  color: white;\\n}\\n\\n.account-overview[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\\n  gap: 20px;\\n  margin-bottom: 20px;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  background-color: var(--card-bg);\\n  border-radius: 8px;\\n  box-shadow: var(--box-shadow);\\n  border: 1px solid var(--border-color);\\n  padding: 20px;\\n  margin-bottom: 30px;\\n}\\n\\n.card-header[_ngcontent-%COMP%] {\\n  background-color: #f8f9fa;\\n  padding: 15px;\\n  border-bottom: 1px solid #eee;\\n  font-weight: bold;\\n}\\n\\n.card-body[_ngcontent-%COMP%] {\\n  padding: 15px;\\n}\\n\\n.info-row[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 10px 0;\\n  border-bottom: 1px solid var(--border-color);\\n}\\n\\n.info-row[_ngcontent-%COMP%]:last-child {\\n  margin-bottom: 0;\\n}\\n\\n.label[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n  color: var(--secondary-color);\\n  font-size: 14px;\\n  margin-bottom: 4px;\\n}\\n\\n.value[_ngcontent-%COMP%] {\\n  font-weight: 600;\\n  color: var(--text-color);\\n}\\n\\n.positive[_ngcontent-%COMP%] {\\n  color: var(--success-color);\\n}\\n\\n.negative[_ngcontent-%COMP%] {\\n  color: var(--danger-color);\\n}\\n\\n.progress[_ngcontent-%COMP%] {\\n  height: 10px;\\n  background-color: var(--light-color);\\n  border-radius: 5px;\\n  overflow: hidden;\\n  margin-top: 5px;\\n}\\n\\n.progress-bar[_ngcontent-%COMP%] {\\n  height: 100%;\\n  background-color: var(--primary-color);\\n  color: white;\\n  text-align: center;\\n  line-height: 10px;\\n  font-size: 10px;\\n}\\n\\n.suggestion-alert[_ngcontent-%COMP%] {\\n  display: flex;\\n  background-color: #fff3cd;\\n  border-left: 4px solid #ffc107;\\n  padding: 12px;\\n  margin: 15px 0;\\n  border-radius: 4px;\\n}\\n\\n.alert-icon[_ngcontent-%COMP%] {\\n  margin-right: 15px;\\n  font-size: 20px;\\n  color: var(--warning-color);\\n}\\n\\n.alert-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\\n  display: block;\\n  margin-bottom: 4px;\\n}\\n\\n.alert-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 0;\\n}\\n\\n.threshold-form[_ngcontent-%COMP%], .transactions-section[_ngcontent-%COMP%] {\\n  margin-top: 30px;\\n}\\n\\n[_ngcontent-%COMP%]:root {\\n  --warning-color-rgb: 246, 106, 10;\\n}\\n\\n.dark-mode[_ngcontent-%COMP%] {\\n  --warning-color-rgb: 210, 153, 34;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  margin-bottom: 15px;\\n}\\n\\n.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  display: block;\\n  margin-bottom: 5px;\\n  font-weight: 500;\\n}\\n\\n.form-control[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 8px 12px;\\n  border: 1px solid #ced4da;\\n  border-radius: 4px;\\n  font-size: 16px;\\n}\\n\\n.form-control.invalid[_ngcontent-%COMP%] {\\n  border-color: #dc3545;\\n}\\n\\n.error-message[_ngcontent-%COMP%] {\\n  color: #dc3545;\\n  font-size: 12px;\\n  margin-top: 4px;\\n}\\n\\n.form-actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: flex-end;\\n  gap: 10px;\\n}\\n\\n.btn[_ngcontent-%COMP%] {\\n  padding: 8px 16px;\\n  border-radius: 4px;\\n  font-weight: 500;\\n  cursor: pointer;\\n  border: 1px solid var(--border-color);\\n  background-color: var(--card-bg);\\n  color: var(--text-color);\\n  transition: background-color 0.2s, border-color 0.2s;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%] {\\n  background-color: var(--primary-color);\\n  color: white;\\n  border-color: var(--primary-color);\\n}\\n\\n.btn-primary[_ngcontent-%COMP%]:hover {\\n  background-color: var(--primary-light);\\n  border-color: var(--primary-light);\\n}\\n\\n.btn-danger[_ngcontent-%COMP%] {\\n  background-color: var(--danger-color);\\n  color: white;\\n  border-color: var(--danger-color);\\n}\\n\\n.btn-danger[_ngcontent-%COMP%]:hover {\\n  background-color: #c82333;\\n  border-color: #bd2130;\\n}\\n\\n.btn[_ngcontent-%COMP%]:disabled {\\n  opacity: 0.65;\\n  cursor: not-allowed;\\n}\\n\\n.section-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 15px;\\n}\\n\\n.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  margin: 0;\\n}\\n\\n.transaction-form-container[_ngcontent-%COMP%] {\\n  background-color: #f8f9fa;\\n  border-radius: 8px;\\n  padding: 15px;\\n  margin-bottom: 20px;\\n}\\n\\n.transactions-list[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 10px;\\n}\\n\\n.transaction-item[_ngcontent-%COMP%] {\\n  display: flex;\\n  background-color: #fff;\\n  border-radius: 8px;\\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);\\n  padding: 15px;\\n}\\n\\n.transaction-icon[_ngcontent-%COMP%] {\\n  width: 40px;\\n  height: 40px;\\n  border-radius: 50%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  margin-right: 15px;\\n}\\n\\n.deposit-icon[_ngcontent-%COMP%] {\\n  background-color: rgba(40, 167, 69, 0.1);\\n  color: #28a745;\\n}\\n\\n.withdrawal-icon[_ngcontent-%COMP%] {\\n  background-color: rgba(220, 53, 69, 0.1);\\n  color: #dc3545;\\n}\\n\\n.transaction-details[_ngcontent-%COMP%] {\\n  flex: 1;\\n}\\n\\n.transaction-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  margin-bottom: 5px;\\n}\\n\\n.transaction-type[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n}\\n\\n.transaction-date[_ngcontent-%COMP%] {\\n  color: #6c757d;\\n  font-size: 14px;\\n}\\n\\n.transaction-amount[_ngcontent-%COMP%] {\\n  font-weight: 600;\\n  font-size: 18px;\\n  margin-bottom: 5px;\\n}\\n\\n.transaction-description[_ngcontent-%COMP%] {\\n  color: #6c757d;\\n  font-size: 14px;\\n}\\n\\n.no-transactions[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 20px;\\n  color: #6c757d;\\n  font-style: italic;\\n}\\n\\n@media (max-width: 768px) {\\n  .header[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n    align-items: flex-start;\\n    gap: 10px;\\n  }\\n  \\n  .section-header[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n    align-items: flex-start;\\n    gap: 10px;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9hY2NvdW50LWRldGFpbC9hY2NvdW50LWRldGFpbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtFQUNiLGlCQUFpQjtFQUNqQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLDhCQUE4QjtFQUM5QixtQkFBbUI7RUFDbkIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixTQUFTO0FBQ1g7O0FBRUE7RUFDRSxTQUFTO0FBQ1g7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxzQ0FBc0M7RUFDdEMsWUFBWTtBQUNkOztBQUVBO0VBQ0Usc0NBQXNDO0VBQ3RDLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGFBQWE7RUFDYiwyREFBMkQ7RUFDM0QsU0FBUztFQUNULG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGdDQUFnQztFQUNoQyxrQkFBa0I7RUFDbEIsNkJBQTZCO0VBQzdCLHFDQUFxQztFQUNyQyxhQUFhO0VBQ2IsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLGFBQWE7RUFDYiw2QkFBNkI7RUFDN0IsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsYUFBYTtBQUNmOztBQUVBO0VBQ0UsYUFBYTtFQUNiLDhCQUE4QjtFQUM5QixtQkFBbUI7RUFDbkIsZUFBZTtFQUNmLDRDQUE0QztBQUM5Qzs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQiw2QkFBNkI7RUFDN0IsZUFBZTtFQUNmLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQix3QkFBd0I7QUFDMUI7O0FBRUE7RUFDRSwyQkFBMkI7QUFDN0I7O0FBRUE7RUFDRSwwQkFBMEI7QUFDNUI7O0FBRUE7RUFDRSxZQUFZ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MHB4O1xuICBtYXgtd2lkdGg6IDEyMDBweDtcbiAgbWFyZ2luOiAwIGF1dG87XG59XG5cbi5oZWFkZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5cbi50aXRsZS1zZWN0aW9uIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiAxMHB4O1xufVxuXG4udGl0bGUtc2VjdGlvbiBoMiB7XG4gIG1hcmdpbjogMDtcbn1cblxuLmJhZGdlIHtcbiAgcGFkZGluZzogNHB4IDhweDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBmb250LXNpemU6IDEycHg7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG5cbi5iYWRnZS11c2Qge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zdWNjZXNzLWNvbG9yKTtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4uYmFkZ2UtZXVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLmFjY291bnQtb3ZlcnZpZXcge1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDMwMHB4LCAxZnIpKTtcbiAgZ2FwOiAyMHB4O1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuXG4uY2FyZCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNhcmQtYmcpO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIGJveC1zaGFkb3c6IHZhcigtLWJveC1zaGFkb3cpO1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpO1xuICBwYWRkaW5nOiAyMHB4O1xuICBtYXJnaW4tYm90dG9tOiAzMHB4O1xufVxuXG4uY2FyZC1oZWFkZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO1xuICBwYWRkaW5nOiAxNXB4O1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5jYXJkLWJvZHkge1xuICBwYWRkaW5nOiAxNXB4O1xufVxuXG4uaW5mby1yb3cge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDEwcHggMDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7XG59XG5cbi5pbmZvLXJvdzpsYXN0LWNoaWxkIHtcbiAgbWFyZ2luLWJvdHRvbTogMDtcbn1cblxuLmxhYmVsIHtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgY29sb3I6IHZhcigtLXNlY29uZGFyeS1jb2xvcik7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgbWFyZ2luLWJvdHRvbTogNHB4O1xufVxuXG4udmFsdWUge1xuICBmb250LXdlaWdodDogNjAwO1xuICBjb2xvcjogdmFyKC0tdGV4dC1jb2xvcik7XG59XG5cbi5wb3NpdGl2ZSB7XG4gIGNvbG9yOiB2YXIoLS1zdWNjZXNzLWNvbG9yKTtcbn1cblxuLm5lZ2F0aXZlIHtcbiAgY29sb3I6IHZhcigtLWRhbmdlci1jb2xvcik7XG59XG5cbi5wcm9ncmVzcyB7XG4gIGhlaWdodDogMTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbGlnaHQtY29sb3IpO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIG1hcmdpbi10b3A6IDVweDtcbn1cblxuLnByb2dyZXNzLWJhciB7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBsaW5lLWhlaWdodDogMTBweDtcbiAgZm9udC1zaXplOiAxMHB4O1xufVxuXG4uc3VnZ2VzdGlvbi1hbGVydCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmYzY2Q7XG4gIGJvcmRlci1sZWZ0OiA0cHggc29saWQgI2ZmYzEwNztcbiAgcGFkZGluZzogMTJweDtcbiAgbWFyZ2luOiAxNXB4IDA7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbn1cblxuLmFsZXJ0LWljb24ge1xuICBtYXJnaW4tcmlnaHQ6IDE1cHg7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgY29sb3I6IHZhcigtLXdhcm5pbmctY29sb3IpO1xufVxuXG4uYWxlcnQtY29udGVudCBzdHJvbmcge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWJvdHRvbTogNHB4O1xufVxuXG4uYWxlcnQtY29udGVudCBwIHtcbiAgbWFyZ2luOiAwO1xufVxuXG4udGhyZXNob2xkLWZvcm0sIC50cmFuc2FjdGlvbnMtc2VjdGlvbiB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG59XG5cbjpyb290IHtcbiAgLS13YXJuaW5nLWNvbG9yLXJnYjogMjQ2LCAxMDYsIDEwO1xufVxuXG4uZGFyay1tb2RlIHtcbiAgLS13YXJuaW5nLWNvbG9yLXJnYjogMjEwLCAxNTMsIDM0O1xufVxuXG4uZm9ybS1ncm91cCB7XG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XG59XG5cbi5mb3JtLWdyb3VwIGxhYmVsIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuLmZvcm0tY29udHJvbCB7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiA4cHggMTJweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2NlZDRkYTtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBmb250LXNpemU6IDE2cHg7XG59XG5cbi5mb3JtLWNvbnRyb2wuaW52YWxpZCB7XG4gIGJvcmRlci1jb2xvcjogI2RjMzU0NTtcbn1cblxuLmVycm9yLW1lc3NhZ2Uge1xuICBjb2xvcjogI2RjMzU0NTtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBtYXJnaW4tdG9wOiA0cHg7XG59XG5cbi5mb3JtLWFjdGlvbnMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICBnYXA6IDEwcHg7XG59XG5cbi5idG4ge1xuICBwYWRkaW5nOiA4cHggMTZweDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBmb250LXdlaWdodDogNTAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNhcmQtYmcpO1xuICBjb2xvcjogdmFyKC0tdGV4dC1jb2xvcik7XG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4ycywgYm9yZGVyLWNvbG9yIDAuMnM7XG59XG5cbi5idG4tcHJpbWFyeSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG59XG5cbi5idG4tcHJpbWFyeTpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnktbGlnaHQpO1xuICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnktbGlnaHQpO1xufVxuXG4uYnRuLWRhbmdlciB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWRhbmdlci1jb2xvcik7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1kYW5nZXItY29sb3IpO1xufVxuXG4uYnRuLWRhbmdlcjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNjODIzMzM7XG4gIGJvcmRlci1jb2xvcjogI2JkMjEzMDtcbn1cblxuLmJ0bjpkaXNhYmxlZCB7XG4gIG9wYWNpdHk6IDAuNjU7XG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XG59XG5cbi5zZWN0aW9uLWhlYWRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcbn1cblxuLnNlY3Rpb24taGVhZGVyIGgzIHtcbiAgbWFyZ2luOiAwO1xufVxuXG4udHJhbnNhY3Rpb24tZm9ybS1jb250YWluZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIHBhZGRpbmc6IDE1cHg7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5cbi50cmFuc2FjdGlvbnMtbGlzdCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGdhcDogMTBweDtcbn1cblxuLnRyYW5zYWN0aW9uLWl0ZW0ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIGJveC1zaGFkb3c6IDAgMnB4IDVweCByZ2JhKDAsIDAsIDAsIDAuMDUpO1xuICBwYWRkaW5nOiAxNXB4O1xufVxuXG4udHJhbnNhY3Rpb24taWNvbiB7XG4gIHdpZHRoOiA0MHB4O1xuICBoZWlnaHQ6IDQwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIG1hcmdpbi1yaWdodDogMTVweDtcbn1cblxuLmRlcG9zaXQtaWNvbiB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNDAsIDE2NywgNjksIDAuMSk7XG4gIGNvbG9yOiAjMjhhNzQ1O1xufVxuXG4ud2l0aGRyYXdhbC1pY29uIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMjAsIDUzLCA2OSwgMC4xKTtcbiAgY29sb3I6ICNkYzM1NDU7XG59XG5cbi50cmFuc2FjdGlvbi1kZXRhaWxzIHtcbiAgZmxleDogMTtcbn1cblxuLnRyYW5zYWN0aW9uLWhlYWRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xufVxuXG4udHJhbnNhY3Rpb24tdHlwZSB7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG5cbi50cmFuc2FjdGlvbi1kYXRlIHtcbiAgY29sb3I6ICM2Yzc1N2Q7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuLnRyYW5zYWN0aW9uLWFtb3VudCB7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGZvbnQtc2l6ZTogMThweDtcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xufVxuXG4udHJhbnNhY3Rpb24tZGVzY3JpcHRpb24ge1xuICBjb2xvcjogIzZjNzU3ZDtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuXG4ubm8tdHJhbnNhY3Rpb25zIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwYWRkaW5nOiAyMHB4O1xuICBjb2xvcjogIzZjNzU3ZDtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xufVxuXG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgLmhlYWRlciB7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgICBnYXA6IDEwcHg7XG4gIH1cbiAgXG4gIC5zZWN0aW9uLWhlYWRlciB7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgICBnYXA6IDEwcHg7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}\nexport { AccountDetailComponent };","map":{"version":3,"names":["switchMap","tap","of","Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind2","ɵɵpipeBind1","ctx_r2","withdrawalSuggestion$","account_r1","currency","ɵɵlistener","AccountDetailComponent_div_0_div_109_Template_form_ngSubmit_1_listener","ɵɵrestoreView","_r10","ctx_r9","ɵɵnextContext","ɵɵresetView","addTransaction","ɵɵelement","ɵɵtemplate","AccountDetailComponent_div_0_div_109_div_14_Template","AccountDetailComponent_div_0_div_109_Template_button_click_20_listener","ctx_r11","toggleTransactionForm","ɵɵproperty","ctx_r4","transactionForm","ɵɵpureFunction1","_c0","tmp_2_0","get","invalid","touched","tmp_3_0","transaction_r13","description","AccountDetailComponent_div_0_div_113_div_14_Template","ɵɵpureFunction2","_c1","type","ɵɵtextInterpolate","date","_c2","ɵɵtextInterpolate2","amount","AccountDetailComponent_div_0_div_93_Template","AccountDetailComponent_div_0_Template_form_ngSubmit_95_listener","_r17","ctx_r16","updateThreshold","AccountDetailComponent_div_0_div_100_Template","AccountDetailComponent_div_0_Template_button_click_107_listener","ctx_r18","AccountDetailComponent_div_0_div_109_Template","AccountDetailComponent_div_0_div_111_Template","AccountDetailComponent_div_0_div_113_Template","name","_c3","broker","currentBalance","targetBalance","totalDeposits","totalWithdrawals","createdAt","ctx_r0","performance$","ɵɵstyleProp","tmp_10_0","undefined","tmp_11_0","profitLoss$","tmp_13_0","roi$","withdrawalThreshold","tmp_16_0","thresholdForm","tmp_18_0","tmp_19_0","showTransactionForm","tmp_23_0","transactions$","length","AccountDetailComponent","constructor","route","router","accountService","transactionService","analyticsService","fb","ngOnInit","accountId","snapshot","paramMap","navigate","account$","getAccountById","pipe","account","group","required","min","getTransactionsByAccount","getAccountPerformance","getAccountProfitLoss","getAccountROI","getWithdrawalSuggestions","value","updateAccount","subscribe","reset","transaction","Date","newBalance","ɵɵdirectiveInject","i1","ActivatedRoute","Router","i2","AccountService","i3","TransactionService","i4","AnalyticsService","i5","FormBuilder","selectors","decls","vars","consts","template","AccountDetailComponent_Template","rf","ctx","AccountDetailComponent_div_0_Template"],"sources":["/home/vagrant/workspace/windsurf/tradetracker/frontend-tradetracker/src/app/components/account-detail/account-detail.component.ts","/home/vagrant/workspace/windsurf/tradetracker/frontend-tradetracker/src/app/components/account-detail/account-detail.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Observable, switchMap, tap, of } from 'rxjs';\nimport { AccountService } from '../../services/account.service';\nimport { TransactionService } from '../../services/transaction.service';\nimport { AnalyticsService } from '../../services/analytics.service';\nimport { Account } from '../../models/account.model';\nimport { Transaction } from '../../models/transaction.model';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-account-detail',\n  templateUrl: './account-detail.component.html',\n  styleUrls: ['./account-detail.component.css']\n})\nexport class AccountDetailComponent implements OnInit {\n  account$!: Observable<Account | undefined>;\n  transactions$!: Observable<Transaction[]>;\n  performance$!: Observable<number>;\n  profitLoss$!: Observable<number>;\n  roi$!: Observable<number>;\n  withdrawalSuggestion$!: Observable<number>;\n  \n  transactionForm!: FormGroup;\n  thresholdForm!: FormGroup;\n  \n  showTransactionForm = false;\n  \n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private accountService: AccountService,\n    private transactionService: TransactionService,\n    private analyticsService: AnalyticsService,\n    private fb: FormBuilder\n  ) {}\n\n  ngOnInit(): void {\n    const accountId = this.route.snapshot.paramMap.get('id');\n    \n    if (!accountId) {\n      this.router.navigate(['/accounts']);\n      return;\n    }\n    \n    this.account$ = this.accountService.getAccountById(accountId).pipe(\n      tap(account => {\n        if (!account) {\n          this.router.navigate(['/accounts']);\n          return;\n        }\n        \n        // Initialize the threshold form with current threshold value\n        this.thresholdForm = this.fb.group({\n          withdrawalThreshold: [account.withdrawalThreshold, [Validators.required, Validators.min(0)]]\n        });\n      })\n    );\n    \n    this.transactions$ = this.transactionService.getTransactionsByAccount(accountId);\n    this.performance$ = this.analyticsService.getAccountPerformance(accountId);\n    this.profitLoss$ = this.analyticsService.getAccountProfitLoss(accountId);\n    this.roi$ = this.analyticsService.getAccountROI(accountId);\n    this.withdrawalSuggestion$ = this.analyticsService.getWithdrawalSuggestions(accountId);\n    \n    // Initialize transaction form\n    this.transactionForm = this.fb.group({\n      type: ['deposit', Validators.required],\n      amount: [0, [Validators.required, Validators.min(0.01)]],\n      description: ['']\n    });\n  }\n  \n  updateThreshold(): void {\n    if (this.thresholdForm.invalid) return;\n    \n    const accountId = this.route.snapshot.paramMap.get('id');\n    if (!accountId) return;\n    \n    const { withdrawalThreshold } = this.thresholdForm.value;\n    \n    this.accountService.updateAccount(accountId, { withdrawalThreshold })\n      .subscribe();\n  }\n  \n  toggleTransactionForm(): void {\n    this.showTransactionForm = !this.showTransactionForm;\n    if (this.showTransactionForm) {\n      this.transactionForm.reset({ type: 'deposit', amount: 0, description: '' });\n    }\n  }\n  \n  addTransaction(): void {\n    if (this.transactionForm.invalid) return;\n    \n    const accountId = this.route.snapshot.paramMap.get('id');\n    if (!accountId) return;\n    \n    this.account$.pipe(\n      switchMap(account => {\n        if (!account) return of(null);\n        \n        const { type, amount, description } = this.transactionForm.value;\n        \n        const transaction: Omit<Transaction, 'id'> = {\n          accountId,\n          type,\n          amount,\n          currency: account.currency,\n          date: new Date(),\n          description\n        };\n        \n        return this.transactionService.addTransaction(transaction);\n      })\n    ).subscribe(() => {\n      this.toggleTransactionForm();\n      \n      // Update account balance based on transaction\n      this.account$.pipe(\n        switchMap(account => {\n          if (!account) return of(null);\n          \n          const { type, amount } = this.transactionForm.value;\n          let newBalance = account.currentBalance;\n          \n          if (type === 'deposit') {\n            newBalance += amount;\n          } else if (type === 'withdrawal') {\n            newBalance -= amount;\n          }\n          \n          return this.accountService.updateAccount(accountId!, { \n            currentBalance: newBalance,\n            ...(type === 'deposit' ? { totalDeposits: account.totalDeposits + amount } : {}),\n            ...(type === 'withdrawal' ? { totalWithdrawals: account.totalWithdrawals + amount } : {})\n          });\n        })\n      ).subscribe();\n    });\n  }\n}\n","<div class=\"account-detail-container\" *ngIf=\"(account$ | async) as account\">\n  <div class=\"header\">\n    <div class=\"title-section\">\n      <h2>{{ account.name }}</h2>\n      <span class=\"badge\" [ngClass]=\"{'badge-usd': account.currency === 'USD', 'badge-eur': account.currency === 'EUR'}\">\n        {{ account.currency }}\n      </span>\n    </div>\n    <button class=\"btn btn-secondary\" routerLink=\"/accounts\">Retour aux comptes</button>\n  </div>\n  \n  <div class=\"account-overview\">\n    <div class=\"card\">\n      <div class=\"card-header\">Informations Générales</div>\n      <div class=\"card-body\">\n        <div class=\"info-row\">\n          <span class=\"label\">Broker:</span>\n          <span class=\"value\">{{ account.broker }}</span>\n        </div>\n        <div class=\"info-row\">\n          <span class=\"label\">Solde actuel:</span>\n          <span class=\"value\">{{ account.currentBalance | currency:account.currency }}</span>\n        </div>\n        <div class=\"info-row\">\n          <span class=\"label\">Objectif:</span>\n          <span class=\"value\">{{ account.targetBalance | currency:account.currency }}</span>\n        </div>\n        <div class=\"info-row\">\n          <span class=\"label\">Dépôts totaux:</span>\n          <span class=\"value\">{{ account.totalDeposits | currency:account.currency }}</span>\n        </div>\n        <div class=\"info-row\">\n          <span class=\"label\">Retraits totaux:</span>\n          <span class=\"value\">{{ account.totalWithdrawals | currency:account.currency }}</span>\n        </div>\n        <div class=\"info-row\">\n          <span class=\"label\">Date de création:</span>\n          <span class=\"value\">{{ account.createdAt | date:'dd/MM/yyyy' }}</span>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"card\">\n      <div class=\"card-header\">Performance</div>\n      <div class=\"card-body\">\n        <div class=\"info-row\">\n          <span class=\"label\">Progression vers l'objectif:</span>\n          <span class=\"value\">{{ performance$ | async | number:'1.1-1' }}%</span>\n          <div class=\"progress\">\n            <div class=\"progress-bar\" \n                 [style.width.%]=\"(performance$ | async) ?? 0 | number:'1.0-0'\">\n            </div>\n          </div>\n        </div>\n        <div class=\"info-row\">\n          <span class=\"label\">Profit/Perte:</span>\n          <span class=\"value\" [ngClass]=\"{\n            'positive': (profitLoss$ | async) ?? 0 > 0,\n            'negative': (profitLoss$ | async) ?? 0 < 0\n          }\">\n            {{ profitLoss$ | async | currency:account.currency }}\n          </span>\n        </div>\n        <div class=\"info-row\">\n          <span class=\"label\">ROI:</span>\n          <span class=\"value\" [ngClass]=\"{\n            'positive': (roi$ | async) ?? 0 > 0,\n            'negative': (roi$ | async) ?? 0 < 0\n          }\">\n            {{ roi$ | async | number:'1.1-1' }}%\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n  \n  <div class=\"withdrawal-section\">\n    <div class=\"card\">\n      <div class=\"card-header\">Gestion du Seuil de Retrait</div>\n      <div class=\"card-body\">\n        <div class=\"info-row\">\n          <span class=\"label\">Seuil actuel:</span>\n          <span class=\"value\">{{ account.withdrawalThreshold | currency:account.currency }}</span>\n        </div>\n        \n        <div *ngIf=\"(withdrawalSuggestion$ | async) ?? 0 > 0\" class=\"suggestion-alert\">\n          <div class=\"alert-icon\">⚠️</div>\n          <div class=\"alert-content\">\n            <strong>Retrait suggéré:</strong>\n            <p>Votre compte a dépassé le seuil de retrait. Nous suggérons un retrait de {{ withdrawalSuggestion$ | async | currency:account.currency }}.</p>\n          </div>\n        </div>\n        \n        <form [formGroup]=\"thresholdForm\" (ngSubmit)=\"updateThreshold()\" class=\"threshold-form\">\n          <div class=\"form-group\">\n            <label for=\"withdrawalThreshold\">Nouveau seuil de retrait:</label>\n            <input \n              type=\"number\" \n              id=\"withdrawalThreshold\" \n              formControlName=\"withdrawalThreshold\"\n              class=\"form-control\"\n              [ngClass]=\"{'invalid': thresholdForm.get('withdrawalThreshold')?.invalid && thresholdForm.get('withdrawalThreshold')?.touched}\"\n            >\n            <div class=\"error-message\" *ngIf=\"thresholdForm.get('withdrawalThreshold')?.invalid && thresholdForm.get('withdrawalThreshold')?.touched\">\n              Le seuil doit être un nombre positif.\n            </div>\n          </div>\n          <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"thresholdForm.invalid\">Mettre à jour</button>\n        </form>\n      </div>\n    </div>\n  </div>\n  \n  <div class=\"transactions-section\">\n    <div class=\"section-header\">\n      <h3>Historique des Transactions</h3>\n      <button class=\"btn btn-primary\" (click)=\"toggleTransactionForm()\">\n        {{ showTransactionForm ? 'Annuler' : 'Ajouter une Transaction' }}\n      </button>\n    </div>\n    \n    <div class=\"transaction-form-container\" *ngIf=\"showTransactionForm\">\n      <form [formGroup]=\"transactionForm\" (ngSubmit)=\"addTransaction()\" class=\"transaction-form\">\n        <div class=\"form-group\">\n          <label for=\"type\">Type de transaction:</label>\n          <select id=\"type\" formControlName=\"type\" class=\"form-control\">\n            <option value=\"deposit\">Dépôt</option>\n            <option value=\"withdrawal\">Retrait</option>\n          </select>\n        </div>\n        \n        <div class=\"form-group\">\n          <label for=\"amount\">Montant ({{ account.currency }}):</label>\n          <input \n            type=\"number\" \n            id=\"amount\" \n            formControlName=\"amount\"\n            class=\"form-control\"\n            [ngClass]=\"{'invalid': transactionForm.get('amount')?.invalid && transactionForm.get('amount')?.touched}\"\n          >\n          <div class=\"error-message\" *ngIf=\"transactionForm.get('amount')?.invalid && transactionForm.get('amount')?.touched\">\n            Le montant doit être supérieur à 0.\n          </div>\n        </div>\n        \n        <div class=\"form-group\">\n          <label for=\"description\">Description (optionnel):</label>\n          <textarea id=\"description\" formControlName=\"description\" class=\"form-control\"></textarea>\n        </div>\n        \n        <div class=\"form-actions\">\n          <button type=\"button\" class=\"btn btn-secondary\" (click)=\"toggleTransactionForm()\">Annuler</button>\n          <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"transactionForm.invalid\">Enregistrer</button>\n        </div>\n      </form>\n    </div>\n    \n    <div class=\"transactions-list\">\n      <div *ngIf=\"(transactions$ | async)?.length === 0\" class=\"no-transactions\">\n        Aucune transaction pour ce compte.\n      </div>\n      \n      <div class=\"transaction-item\" *ngFor=\"let transaction of (transactions$ | async)\">\n        <div class=\"transaction-icon\" [ngClass]=\"{\n          'deposit-icon': transaction.type === 'deposit',\n          'withdrawal-icon': transaction.type === 'withdrawal'\n        }\">\n          <i class=\"icon\">{{ transaction.type === 'deposit' ? '↑' : '↓' }}</i>\n        </div>\n        \n        <div class=\"transaction-details\">\n          <div class=\"transaction-header\">\n            <span class=\"transaction-type\">{{ transaction.type === 'deposit' ? 'Dépôt' : 'Retrait' }}</span>\n            <span class=\"transaction-date\">{{ transaction.date | date:'dd/MM/yyyy HH:mm' }}</span>\n          </div>\n          \n          <div class=\"transaction-amount\" [ngClass]=\"{\n            'positive': transaction.type === 'deposit',\n            'negative': transaction.type === 'withdrawal'\n          }\">\n            {{ transaction.type === 'deposit' ? '+' : '-' }} {{ transaction.amount | currency:transaction.currency }}\n          </div>\n          \n          <div class=\"transaction-description\" *ngIf=\"transaction.description\">\n            {{ transaction.description }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}